
# Конфигурация DatabasePopulator
# Формат: HOCON (Human-Optimized Config Object Notation)

# Общее количество записей по умолчанию
defaultRecordCount = 1000

# Настройки баз данных
databases = [
  {
    name = "postgres_main"
    jdbcUrl = "jdbc:postgresql://localhost:5432/testdb"
    username = "postgres"
    password = "password"
    driver = "org.postgresql.Driver"
    defaultRecordCount = 5000
  },
  {
    name = "ignite_cache"
    jdbcUrl = "jdbc:ignite:thin://localhost:10800"
    username = ""
    password = ""
    driver = "org.apache.ignite.IgniteJdbcThinDriver"
    defaultRecordCount = 2000
  }
]

# Настройки для конкретных таблиц
tableSettings = [
  {
    databaseName = "postgres_main"
    tableName = "users"
    recordCount = 10000
  },
  {
    databaseName = "postgres_main"
    tableName = "orders"
    recordCount = 50000
  }
]

# Связи между полями разных таблиц
fieldRelations = [
  {
    type = "SAME_VALUES"
    sourceFields = ["postgres_main.users.user_id"]
    targetFields = ["postgres_main.orders.user_id"]
  },
  {
    type = "DISJOINT_UNION"
    sourceFields = ["postgres_main.products.category_id", "postgres_main.services.category_id"]
    targetFields = ["postgres_main.categories.category_id"]
  }
]

# Правила генерации данных для конкретных полей
generationRules = [
  {
    databaseName = "postgres_main"
    tableName = "users"
    columnName = "email"
    type = "email"
  },
  {
    databaseName = "postgres_main"
    tableName = "users"
    columnName = "first_name"
    type = "firstname"
  },
  {
    databaseName = "postgres_main"
    tableName = "users"
    columnName = "last_name"
    type = "lastname"
  },
  {
    databaseName = "postgres_main"
    tableName = "users"
    columnName = "phone"
    type = "phone"
  },
  {
    databaseName = "postgres_main"
    tableName = "companies"
    columnName = "name"
    type = "company"
  },
  {
    databaseName = "postgres_main"
    tableName = "products"
    columnName = "uuid"
    type = "uuid"
  },
  {
    databaseName = "postgres_main"
    tableName = "orders"
    columnName = "status"
    type = "constant"
    parameters = {
      value = "PENDING"
    }
  }
]
